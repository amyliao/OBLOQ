# OBLOQ常见问题



## OBLOQ模块简介

功能：无线上网模块。能使设备能通过wifi连接上网，收发数据。正常工作时OBLOQ上绿色LED灯常亮。

结构图：

<img src="./img/OBLOQ引脚说明图.jpg" width="400px">



各个接口的含义

|  名称  | 功能描述  |
| :--: | :---: |
|  TX  | 串口发送端 |
|  RX  | 串口接收端 |
| GND  | 电源负极  |
| VCC  | 电源正极  |



信号灯含义

|  颜色  | 指示状态   |
| :--: | :----- |
|  红色  | 没有正常运行 |
|  白色  | 连上wifi |
|  蓝色  | 有新版固件  |
|  黄色  | 连接服务器中 |
|  绿色  | 正常工作   |



## OBLOQ模块固件升级





## OBLOQ兼容主控板简介

市面上常见的支持串口通信的主控板都可以，比如Arduino UNO主控板系列。

![UNO](.\img\UNO.png)



## OBLOQ支持的设备

只要设备能够被兼容OBLOQ的主控板控制，就可以使用。如各种传感器模块、小灯模块等。



## 使用OBLOQ发送数据

步骤：

1. 在OBLOQ-web新建设备，这样这个设备可以接收、储存硬件发送过来的数据。
2. 完成发送端固件程序（注意OBLOQ-web的账户密码，设备名，wifi SSID， wifi密码都要填写正确）。
3. 给主控板烧录发送端固件程序。
4. 准备好发送端硬件设备、主控板和OBLOQ模块，完成发送端硬件搭建（注意引脚连线要正确）。
5. 给主控板供电，让设备开始工作，最后在OBLOQ-web监测生成的数据。





## 使用OBLOQ接收数据

步骤：

1. 找到提供数据的OBLOQ-web设备，作为接收数据的数据源。
2. 完成接收端固件程序（注意OBLOQ-web的账户密码，设备名，wifi SSID， wifi密码都要填写正确）。
3. 给主控板烧录接收端固件程序。
4. 准备好接收端硬件设备、主控板和OBLOQ模块，完成接收端硬件搭建（注意引脚连线要正确）
5. 给主控板供电，让设备开始工作，最后查看接收端设备工作状况，判断OBLOQ-web设备数据是否被正确接收。



## 自定义物联网应用的程序





## 如何物理连接设备、OBLOQ模块、主控板

可以参考教程中示例连接方法。如下图：

![接收设备&led](.\img\接收设备&led.png)

![OBLOQ发送设备](.\img\OBLOQ发送设备.png)



## OBLOQ-web简介

OBLOQ-web指的是obloq.dfrobot.com网站，包含数据发送、数据呈现、数据处理和使用教程等功能。它是一个转发设备数据和发布控制指令的中心。这些数据可以在OBLOQ-web上可视化呈现。

- 用户能够直接通过OBLOQ-web发送控制指令，进行设备控制；
- 也可以将OBLOQ-web当作一个指令中转站，用“设备1”（sender）给远端“设备2”（receiver）发送控制指令。
- 用户能在设备页面进行数据筛选，并将筛选出来的数据可视化。

<img src="./img/OBLOQ主页.png">



## 在OBLOQ-web上查看数据

进入工作间，点击某设备，进入设备页面，即可查看当前设备的消息（数据）。

设备数据分为两种：

| 消息类型    | 含义              |
| ------- | --------------- |
| command | 发送给设备的数据，要求设备执行 |
| event   | 从设备接收的数据        |

<img src="./img/OBLOQ工作间菜单.png">

![Button](.\img\Button.png)

![设备页面](.\img\设备页面.png)



## 在OBLOQ-web进行设备数据处理

进入工作间，点击进入某设备的设备界面，在筛选栏中选定条件对数据进行筛选，即可抽取出符合条件的数据，并且自动生成可视化数据图表。

![设备数据页面](.\img\设备数据页面.png)

![数据筛选页面](.\img\数据筛选页面.png)





## 故障检测

**Q：OBLOQ模块通电后，板子的信号灯不亮**

A：电源正负极接线有问题，检查接线



**Q：OBLOQ模块信号灯一直保持黄色常亮**

A：模块联网过程中卡在连接服务器的过程中，重启UNO主控板。



**Q：烧完固件后，OBLOQ模块信号灯保持红色常亮**

A：请检查固件程序中是否使用了正确的Wifi SSID, Wifi 密码, 账户名, 账户密码 。



**Q：物联网Web端没有就收到发送过来的消息**

A： 检查程序中的设备名称和物联网Web端的设备名称是否保持一致